var gameprice=webpackJsonp_name_([0],{128:function(e,r,t){"use strict";function n(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(o,s){try{var a=r[o](s),i=a.value}catch(e){return void t(e)}return a.done?void e(i):Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)})}return n("next")})}}function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function s(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function a(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Object.defineProperty(r,"__esModule",{value:!0});var i=t(8),c=t.n(i),l=t(36),u=t(37),d=t(69),y=t(24),h=t(70),p=t(23),f=t(322),b=(t.n(f),t(326)),m=(t.n(b),t(325)),C=(t.n(m),t(324)),_=(t.n(C),t(323)),v=(t.n(_),t(321)),g=(t.n(v),function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}()),S=function(e){function r(){return o(this,r),s(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return a(r,e),g(r,[{key:"onLoad",value:function(){function e(){return t.apply(this,arguments)}var t=n(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get({currency_code:p.a.currency_code,show_streamlink:p.a.show_streamlink,show_current_price:p.a.show_current_price,show_historical_price:p.a.show_historical_price,show_all_stores:p.a.show_all_stores,stores:p.a.stores,show_regional_price:p.a.show_regional_price,regional_countries:p.a.regional_countries});case 2:return t=e.sent,y.a.set(t),t.show_streamlink&&r.addVideoLinks(),e.next=7,u.a.getWalletCurrency();case 7:return n=e.sent,e.next=10,h.a.load(n);case 10:(t.show_current_price||t.show_historical_price)&&r.getPrices(t),t.show_regional_price&&r.getRegionalPrice(t.regional_countries,n);case 12:case"end":return e.stop()}},e,this)}));return e}()}],[{key:"addVideoLinks",value:function(){var e=c()(".apphub_AppName").text().match(/\w+/g).join(" "),r='\n      <div class="sih_video_links">\n        <span class="title">Check It On:</span>\n        <a href="https://www.youtube.com/results?search_query='+e+'" target="_blank">\n          <span class="icon-youtube icon_link"></span>\n        </a>\n        <a href="https://www.twitch.tv/directory/game/'+e+'" target="_blank">\n          <span class="icon-twitch icon_link"></span>\n        </a>\n      </div>\n    ';c()(r).insertBefore(c()("#category_block").parent())}},{key:"getPrices",value:function(){function e(e){return t.apply(this,arguments)}var t=n(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],c()("input[name=subid]").each(function(e,r){r.value&&n.push("sub/"+r.value)}),c()("input[name=appid]").each(function(e,r){r.value&&n.push("app/"+r.value)}),c()("input[name=bundleid]").each(function(e,r){r.value&&n.push("bundle/"+r.value)}),n.length){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,u.a.sendRequest({method:"GET",url:u.b+"/prices",data:{cc:u.a.getStoreRegionCountryCode(),app:n.join(),shops:t.show_all_stores?"":Object.keys(t.stores).filter(function(e){return t.stores[e]}).join()}});case 8:o=e.sent,o.success&&!function(){var e=o[".meta"].currency,n=/(\w+)\/(\d+)/;c.a.each(o.data,function(o,s){var a=o.match(n);if(a){var i=a[1],l=a[2],y=c()("input[name="+i+"id][value="+l+"]").parent().parent();c()(y).find(".game_purchase_action").before('\n            <div class="sih_store_prices">\n              <div class="sih_lowest_price"></div>\n              <div class="sih_current_price"></div>\n            </div>\n          ');var h=d.a.parsePrice(y.find(".price, .discount_final_price").text());if(t.show_historical_price&&!u.a.isEmpty(s.lowest)){var p="Lowest price of all time: __price__ at __shop__ on __date__ (__info__)",f='<a href="'+s.urls.history+'" target="_blank">info</a>',b='<span class="sih_price">'+d.a.vCurrencyFormat(100*s.lowest.price,e.code)+"</span>";c()(y).find(".sih_lowest_price").append(""+p.replace("__price__",b).replace("__shop__",s.lowest.shop).replace("__date__",new Date(1e3*s.lowest.added).toLocaleDateString()).replace("__info__",f))}else c()(y).find(".sih_lowest_price").remove();if(t.show_current_price&&!u.a.isEmpty(s.current)){var m="Actual lowest price: __price__ at __shop__ (__info__)",C='<a href="'+s.current.url+'" target="_blank">'+s.current.shop+"</a>",_='<a href="'+s.urls.game+'" target="_blank">info</a>',v=r.getFinalPriceInCents(s.current.price_new,e.code,h.currencyCode),g="";if("Steam"!==s.current.shop&&h.value>v){var S=d.a.vCurrencyFormat(h.value-v,h.currencyCode);g='<span class="sih_your_savings">Your savings: '+S+"</span>"}var P='<span class="'+(g?"sih_your_savings":"sih_price")+'">'+d.a.vCurrencyFormat(100*s.current.price_new,e.code)+"</span>";c()(y).find(".sih_current_price").append(m.replace("__price__",P).replace("__shop__",C).replace("__info__",_)+"\n              "+g+"\n              </div>")}else c()(y).find(".sih_current_price").remove();c()(y).find(".sih_lowest_price, .sih_current_price").length||c()(y).find(".sih_store_prices").remove()}})}();case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"getFinalPriceInCents",value:function(e,r,t){var n=void 0;return n=r!==t?h.a.convert(100*e,r,t):100*e}},{key:"getRegionalPrice",value:function(){function e(e,r){return t.apply(this,arguments)}var t=n(regeneratorRuntime.mark(function e(t,n){var o,s,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=[],s={},c()("input[name=subid]").each(function(e,r){r.value&&o.push(r.value)}),a=u.a.getStoreRegionCountryCode().toLowerCase(),e.next=6,Promise.all(o.map(function(e){return r.getAllRegionalGamePrices(e,t)}));case 6:i=e.sent,i.forEach(function(e){return c.a.extend(s,e)}),c.a.each(o,function(e,r){var o=c()("input[name=subid][value="+r+"]").parent().parent().parent();o.prepend('<div class="sih_regional_price" />');var i=d.a.parsePrice(o.find(".price, .discount_final_price").text());c.a.each(t,function(e,t){var l=s[r][t];if(t!==a&&l){var u=void 0;u=l.currency!==i.currencyCode?h.a.convert(l.final,l.currency,i.currencyCode):l.final;var y=u-i.value,p=y>0?"sih_price_higher":"sih_price_lower",f=chrome.extension.getURL("assets/blank.gif"),b=c()('\n            <div class="sih_region" >\n              <span class="sih_flag">\n                <img src="'+f+'" class="flag flag-'+t+'" title="'+t.toUpperCase()+'">'+d.a.vCurrencyFormat(l.final,l.currency)+'\n              </span>\n              <span class="sih_regional_price_converted '+p+'">'+d.a.vCurrencyFormat(u,n)+'</span>\n              <div class="sih_regional_price_saving">\n                '+d.a.vCurrencyFormat(y,n)+'<span class="'+(y>0?"arrow_up":"arrow_down")+'"></span>\n              </div>\n            </div>\n          ');o.addClass("sih_game_node"),o.find(".sih_regional_price").append(b)}}),o.find(".sih_region").length?o.find("h1").prepend('<span class="sih_globe" />'):o.find(".sih_regional_price").remove()});case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"getAllRegionalGamePrices",value:function(){function e(e,r){return t.apply(this,arguments)}var t=n(regeneratorRuntime.mark(function e(t,n){var o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={},e.next=3,Promise.all(n.map(function(e){return r.getGamePriceByRegion(t,e)}));case 3:return s=e.sent,s.forEach(function(e){return c.a.extend(!0,o,e)}),e.abrupt("return",o);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"getGamePriceByRegion",value:function(){function e(e,t){return r.apply(this,arguments)}var r=n(regeneratorRuntime.mark(function e(r,t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.sendRequest({method:"GET",url:"//store.steampowered.com/api/packagedetails/",data:{cc:t,packageids:r}});case 2:return n=e.sent,n[r].success?(n[r][t]=n[r].data.price,delete n[r].data):n[r][t]=null,delete n[r].success,e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}));return e}()}]),r}(l.a);r.default=new S},321:function(e,r){},322:function(e,r,t){e.exports=t.p+"../font/fontello.eot"},323:function(e,r,t){e.exports=t.p+"../font/fontello.svg"},324:function(e,r,t){e.exports=t.p+"../font/fontello.ttf"},325:function(e,r,t){e.exports=t.p+"../font/fontello.woff"},326:function(e,r,t){e.exports=t.p+"../font/fontello.woff2"},346:function(e,r,t){t(11),e.exports=t(128)},69:function(e,r,t){"use strict";function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),s={RUB:{strCode:"RUB",eCurrencyCode:5,strSymbol:"pуб.",places:2,hideZeroth:!0,thousand:"",delimiter:",",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0},EUR:{strCode:"EUR",eCurrencyCode:3,strSymbol:"€",places:2,hideZeroth:!1,thousand:" ",delimiter:",",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1},GBP:{strCode:"GBP",eCurrencyCode:2,strSymbol:"£",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},BRL:{strCode:"BRL",eCurrencyCode:7,strSymbol:"R$",places:2,hideZeroth:!1,thousand:".",delimiter:",",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},JPY:{strCode:"JPY",eCurrencyCode:8,strSymbol:"¥",places:0,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0},NOK:{strCode:"NOK",eCurrencyCode:9,strSymbol:"kr",places:2,hideZeroth:!1,thousand:".",delimiter:",",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1},CHF:{strCode:"CHF",eCurrencyCode:4,strSymbol:"CHF",places:2,hideZeroth:!1,thousand:"'",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},IDR:{strCode:"IDR",eCurrencyCode:10,strSymbol:"Rp",places:0,hideZeroth:!1,thousand:" ",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0},MYR:{strCode:"MYR",eCurrencyCode:11,strSymbol:"RM",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},PHP:{strCode:"PHP",eCurrencyCode:12,strSymbol:"P",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},SGD:{strCode:"SGD",eCurrencyCode:13,strSymbol:"S$",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},THB:{strCode:"THB",eCurrencyCode:14,strSymbol:"฿",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},VND:{strCode:"VND",eCurrencyCode:15,strSymbol:"₫",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0},KRW:{strCode:"KRW",eCurrencyCode:16,strSymbol:"₩",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0},TRY:{strCode:"TRY",eCurrencyCode:17,strSymbol:"TL",places:2,hideZeroth:!1,thousand:"",delimiter:",",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1},UAH:{strCode:"UAH",eCurrencyCode:18,strSymbol:"₴",places:2,hideZeroth:!1,thousand:"",delimiter:",",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0},MXN:{strCode:"MXN",eCurrencyCode:19,strSymbol:"Mex$",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},CAD:{strCode:"CAD",eCurrencyCode:20,strSymbol:"CDN$",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},AUD:{strCode:"AUD",eCurrencyCode:21,strSymbol:"A$",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},NZD:{strCode:"NZD",eCurrencyCode:22,strSymbol:"NZ$",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},CNY:{strCode:"CNY",eCurrencyCode:23,strSymbol:"¥",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0},INR:{strCode:"INR",eCurrencyCode:24,strSymbol:"₹",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0},CLP:{strCode:"CLP",eCurrencyCode:25,strSymbol:"CLP$",places:2,hideZeroth:!0,thousand:".",delimiter:",",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0},PEN:{strCode:"PEN",eCurrencyCode:26,strSymbol:"S/.",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},COP:{strCode:"COP",eCurrencyCode:27,strSymbol:"COL$",places:2,hideZeroth:!1,thousand:".",delimiter:",",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0},ZAR:{strCode:"ZAR",eCurrencyCode:28,strSymbol:"R",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},HKD:{strCode:"HKD",eCurrencyCode:29,strSymbol:"HK$",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},TWD:{strCode:"TWD",eCurrencyCode:30,strSymbol:"NT$",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0},SAR:{strCode:"SAR",eCurrencyCode:31,strSymbol:"SR",places:2,hideZeroth:!1,thousand:"",delimiter:".",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1},AED:{strCode:"AED",eCurrencyCode:32,strSymbol:"AED",places:2,hideZeroth:!1,thousand:"",delimiter:".",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1},USD:{strCode:"USD",eCurrencyCode:1,strSymbol:"$",places:2,hideZeroth:!1,thousand:",",delimiter:".",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1},PLN:{strCode:"PLN",eCurrencyCode:6,strSymbol:"zł",places:2,hideZeroth:!1,thousand:".",delimiter:",",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1},RMB:{strCode:"RMB",eCurrencyCode:9e3,strSymbol:"刀币",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0},NXP:{strCode:"NXP",eCurrencyCode:9001,strSymbol:"원",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0}},a=function(){function e(){n(this,e)}return o(e,null,[{key:"isCurrencySymbolBeforeValue",value:function(e){return s[e]&&s[e].bSymbolIsPrefix}},{key:"isCurrencyWholeUnits",value:function(e){return s[e]&&s[e].bWholeUnitsOnly&&"RUB"!==e}},{key:"getCurrencySymbolByCode",value:function(e){return s[e]?s[e].strSymbol:e+" "}},{key:"getCurrencySymbolFromString",value:function(e){var r=/(?:R\$|S\$|\$|RM|kr|Rp|€|¥|£|฿|pуб\.|P|₫|₩|TL|₴|Mex\$|CDN\$|A\$|HK\$|NT\$|₹|SR|R |DH|CHF|CLP\$|S\/\.|COL\$|NZ\$)/,t=e.match(r);return t?t[0]:""}},{key:"getCurrencyCodeFromDOM",value:function(){var e=document.querySelector('meta[itemprop="priceCurrency"]');return e&&e.hasAttribute("content")?e.getAttribute("content"):null}},{key:"getCurrencyCodeBySymbol",value:function(e){var r=Object.keys(s).find(function(r){return s[r].strSymbol===e});return r||""}},{key:"getCurrencyCodeById",value:function(e){var r=Object.keys(s).find(function(r){return s[r].eCurrencyCode===e});return r||"Unknown"}},{key:"parsePrice",value:function(r){var t=e.getCurrencySymbolFromString(r),n=e.getCurrencyCodeFromDOM()||e.getCurrencyCodeBySymbol(t),o=s[n],a=o.eCurrencyCode,i=parseFloat(r.replace(o.thousand,"").replace(o.delimiter,".").replace(/[^\d.]/g,"").trim());return isNaN(i)?null:{value:100*i,currencyCode:n,currencySign:t,currencyNumber:a}}},{key:"vCurrencyFormat",value:function(r,t,n){var o=(r/100).toFixed(2);switch(t){case"EUR":return(""+o+e.getCurrencySymbolByCode(t)).replace(".",",").replace(",00",",--");case"GBP":return""+e.getCurrencySymbolByCode(t)+o;case"USD":return void 0!==n&&"US"!==n?""+e.getCurrencySymbolByCode(t)+o+" USD":""+e.getCurrencySymbolByCode(t)+o;case"RUB":return o.replace(".",",").replace(",00","")+" "+e.getCurrencySymbolByCode(t);case"JPY":return e.getCurrencySymbolByCode(t)+" "+o.replace(".00","");case"BRL":case"COP":return e.getCurrencySymbolByCode(t)+" "+o.replace(".",",");case"CLP":return e.getCurrencySymbolByCode(t)+" "+o.replace(".00","").replace(".",",");case"NOK":case"PLN":return o.replace(".",",")+" "+e.getCurrencySymbolByCode(t);case"SAR":case"AED":case"CHF":return o+" "+e.getCurrencySymbolByCode(t);case"IDR":return e.getCurrencySymbolByCode(t)+" "+o;case"MYR":case"PHP":case"SGD":case"THB":case"CNY":case"INR":case"ZAR":return""+e.getCurrencySymbolByCode(t)+o;case"KRW":case"VND":return""+e.getCurrencySymbolByCode(t)+o.replace(".00","");case"MXN":case"CAD":case"AUD":case"NZD":case"PEN":case"HKD":case"TWD":return e.getCurrencySymbolByCode(t)+" "+o;default:return o+" "+t}}},{key:"getCurrencyFormat",value:function(r,t){var n=s[t||e.getCurrencyCodeFromDOM()];n.hideZeroth&&r%1===0&&(n.places=0);var o=r<0?"-":"",a=""+parseInt(Math.abs(+r||0).toFixed(n.places),10),i=a.length>3?a.length%3:0,c=""+o+(i?a.substr(0,i)+n.thousand:"")+a.substr(i).replace(/(\d{3})(?=\d)/g,"$1"+n.thousand)+(n.places?n.delimiter+Math.abs(r-a).toFixed(n.places).slice(2):"");return n.left?n.sign+" "+c:c+" "+n.sign}}]),e}();r.a=a},70:function(e,r,t){"use strict";function n(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(o,s){try{var a=r[o](s),i=a.value}catch(e){return void t(e)}return a.done?void e(i):Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)})}return n("next")})}}function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var s=t(37),a=t(24),i=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),c={},l=144e5,u=function(){function e(){o(this,e)}return i(e,null,[{key:"load",value:function(){function e(e){return r.apply(this,arguments)}var r=n(regeneratorRuntime.mark(function e(r){var t,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.get({currency_rates:{}});case 2:if(t=e.sent,Object.assign(c,t.currency_rates),void 0!==r){e.next=10;break}return e.next=7,s.a.getWalletCurrency();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=r;case 11:if(n=e.t0,c[r]&&!(Date.now()-c[r].ts>l)){e.next=17;break}return e.next=15,s.a.sendRequest({method:"GET",url:s.b+"/rates",data:{base:n}});case 15:o=e.sent,o.success&&(c[o.data.base]={rates:o.data.rates,ts:Date.now()},a.a.set({currency_rates:c}));case 17:case"end":return e.stop()}},e,this)}));return e}()},{key:"convert",value:function(e,r,t){return c[t]?e/c[t].rates[r]:c[r]?e*c[r].rates[t]:null}}]),e}();r.a=u},8:function(e,r){e.exports=jQuery}},[346]);